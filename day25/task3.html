<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
</head>

<body onload="startTime()">
    <div id="txt"></div>
    <div id="select">
        <select id="year-select">
            <option value="2000">2000</option>
            <option value="2001">2001</option>
            <option value="2002">2002</option>
            <option value="2003">2003</option>
            <option value="2004">2004</option>
            <option value="2005">2005</option>
            <option value="2006">2006</option>
            <option value="2007">2007</option>
            <option value="2008">2008</option>
            <option value="2009">2009</option>
            <option value="2010">2010</option>
            <option value="2018">2018</option>
            <option value="2023">2023</option>
            <option value="2024">2024</option>
            <option value="2029">2029</option>
            <option value="2032">2032</option>
        </select>

        <select id="month-select">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
        </select>

        <select id="day-select">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
        </select>

        <select id="hour-select">
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
        </select>

        <select id="minite-select">
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
        </select>

        <select id="second-select">
            <option value="00">00</option>
            <option value="01">01</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
            <option value="21">21</option>
            <option value="22">22</option>
            <option value="23">23</option>
            <option value="24">24</option>
            <option value="25">25</option>
            <option value="26">26</option>
            <option value="27">27</option>
            <option value="28">28</option>
            <option value="29">29</option>
            <option value="30">30</option>
            <option value="31">31</option>
            <option value="32">32</option>
            <option value="33">33</option>
            <option value="34">34</option>
            <option value="35">35</option>
            <option value="36">36</option>
            <option value="37">37</option>
            <option value="38">38</option>
            <option value="39">39</option>
            <option value="40">40</option>
            <option value="41">41</option>
            <option value="42">42</option>
            <option value="43">43</option>
            <option value="44">44</option>
            <option value="45">45</option>
            <option value="46">46</option>
            <option value="47">47</option>
            <option value="48">48</option>
            <option value="49">49</option>
            <option value="50">50</option>
            <option value="51">51</option>
            <option value="52">52</option>
            <option value="53">53</option>
            <option value="54">54</option>
            <option value="55">55</option>
            <option value="56">56</option>
            <option value="57">57</option>
            <option value="58">58</option>
            <option value="59">59</option>
        </select>
    </div>

    <p id="result-wrapper">
    </p>
    <script>
        // 注意选择不同月份的时候，日期的可选范围不一样，比如1月可以选31天，11月只有30天，注意闰年
        function startTime() {
            currentTime();
            timeDiff();
            setTimeout('startTime()', 500);
        }


        function checkTime(i) {
            if (i < 10) { i = "0" + i }
            return i
        }
        function timeDiff() {
            // var today = new Date();
            // var select = document.getElementById('select');
            var yearSelect = document.getElementById('year-select');
            var yearChilren = yearSelect.getElementsByTagName('option');
            var monthSelect = document.getElementById('month-select');
            var monthChilren = monthSelect.getElementsByTagName('option');
            var daySelect = document.getElementById('day-select');
            var dayChilren = daySelect.getElementsByTagName('option');
            var hourSelect = document.getElementById('hour-select');
            var hourChilren = hourSelect.getElementsByTagName('option');
            var miniteSelect = document.getElementById('minite-select');
            var miniteChilren = miniteSelect.getElementsByTagName('option');
            var secondSelect = document.getElementById('second-select');
            var secondChilren = secondSelect.getElementsByTagName('option');
            var result = document.getElementById("result-wrapper");
            var year = yearChilren[yearSelect.selectedIndex].value;
            var month = monthChilren[monthSelect.selectedIndex].value;
            var day = dayChilren[daySelect.selectedIndex].value;
            var hour = hourChilren[hourSelect.selectedIndex].value;
            var minite = miniteChilren[miniteSelect.selectedIndex].value;
            var second = secondChilren[secondSelect.selectedIndex].value;
            var monthChilrenIndex = monthSelect.selectedIndex;
            // console.log(monthChilrenIndex);
            if (monthChilrenIndex == 0 || monthChilrenIndex == 2 || monthChilrenIndex == 4 || monthChilrenIndex == 6 || monthChilrenIndex == 7 || monthChilrenIndex == 9 || monthChilrenIndex == 11) {
                dayChilren[30].style.display = 'block';
            } else if (monthChilrenIndex == 3 || monthChilrenIndex == 5 || monthChilrenIndex == 8 || monthChilrenIndex == 10) {
                dayChilren[30].style.display = 'none';
            } else if (monthChilrenIndex == 1) {
                if (year % 4 === 0 && year % 100 !== 0 || year % 400 == 0) {
                    dayChilren[29].style.display = 'none';
                    dayChilren[30].style.display = 'none';
                } else {
                    dayChilren[28].style.display = 'none';
                    dayChilren[29].style.display = 'none';
                    dayChilren[30].style.display = 'none';
                }
            }
            var fixedDay = (new Date(year, month, day, hour, minite, second)).getTime();
            var todayTime = new Date().getTime();
            var timeDiff = todayTime - fixedDay;
            if (timeDiff > 0) {
                result.innerHTML = '现在距离' + year + '年' + month + '月' + day + '日' + hour + '时' + minite + '分' + second + '秒' + '已经过去' + (today.getFullYear() - year) + '年' + (today.getMonth() - month) + '个月' + (today.getDate() - day) + '天' + (today.getHours() - hour) + '小时' + (today.getMinutes() - minite) + '分' + (today.getSeconds() - second) + '秒';
            } else {
                result.innerHTML = '现在距离' + year + '年' + month + '月' + day + '日' + hour + '时' + minite + '分' + second + '秒' + '还有' + (year - today.getFullYear()) + '年' + (month - today.getMonth()) + '个月' + (day - today.getDate()) + '天' + (hour - today.getHours()) + '小时' + (minite - today.getMinutes()) + '分' + (second - today.getSeconds()) + '秒';
            }
        }
        function currentTime() {
            var d = new Date();
            var day = d.getDay();
            var month = d.getMonth() + 1;
            var date = d.getDate();
            var hours = d.getHours();
            var minutes = d.getMinutes();
            var seconds = d.getSeconds();
            month = checkTime(month);
            date = checkTime(date);
            var txt = document.getElementById('txt');
            txt.innerHTML = d.getFullYear() + '年' + month + '月' + date
                + '日' + ' ' + '星期' + setDay(day) + ' ' + checkTime(hours)
                + ':' + checkTime(minutes) + ':' + checkTime(seconds);
            //格式化星期 
            function setDay(day) {
                switch (day) {
                    case 0:
                        day = '日';
                        break;
                    case 1:
                        day = '一';
                        break;
                    case 2:
                        day = '二';
                        break;
                    case 3:
                        day = '三';
                        break;
                    case 4:
                        day = '四';
                        break;
                    case 5:
                        day = '五';
                        break;
                    case 6:
                        day = '六';
                        break;
                }
                return day;
            }
        }
    </script>
</body>

</html>